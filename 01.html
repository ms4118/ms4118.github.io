<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <link rel="icon" href="images/fevicon.png" type="image/gif" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Op-Mic GOM</title>

  <link rel="stylesheet" href="pyscripts/pyscript.css" />
  <script defer src="pyscripts/pyscript.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="./js/intro.min.js"></script>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- font awesome style -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/introjs.min.css">
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/common.css">
  <py-env>
    - numpy
    - matplotlib
  </py-env>

</head>

<body class="sub_page">
  <div class="hero_area">
    <!-- header section starts -->
    <header class="header_section long_section px-0">
      <nav class="navbar navbar-expand-lg custom_nav-container ">
        <a class="navbar-brand" href="index.html">
          <img class="logo-img" src="./images/logo1.jpg">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class=""> </span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <div class="d-flex mx-auto flex-column flex-lg-row align-items-center">
            <ul class="navbar-nav  ">
              <li class="nav-item ">
                <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="furniture.html">Forecasting Logistics</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="sustainable.html">Sustainable Logistics</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="inventory.html">Inventory Management</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="network.html">Network Optimization</a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="01.html">Warehouse Management</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- end header section -->
  </div>

    <!-- Blog section -->
<section class="blog_section layout_padding furniture_section">
    <div class="container">
      <div class="heading_container">
        <h2>
          Global Operation Management - Warehouse Management
        </h2>
      </div>
      <div class="container">
        <div class="row align-items-center">
          <!-- 左侧图片 -->
          <div class="col-md-5">
            <div class="intro-img-box">
              <img src="images/about-w-img.jpg" alt="Introduction Image" class="img-fluid">
            </div>
          </div>
          <!-- 右侧内容 -->
          <div class="col-md-7">
            <section class="slider_section long_section">
              <div id="customCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <div class="container p-0">
                      <div class="row">
                        <div class="col-12">
                          <div class="img-box">
                            <img src="images/warehouse/1.png" alt="" class="img-fluid">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <div class="container p-0">
                      <div class="row">
                        <div class="col-12">
                          <div class="img-box">
                            <img src="images/warehouse/2.png" alt="" class="img-fluid">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <ol class="carousel-indicators">
                  <li data-target="#customCarousel" data-slide-to="0" class="active"></li>
                  <li data-target="#customCarousel" data-slide-to="1"></li>              
                </ol>
              </div>
            </section>
          </div>
        </div>
    </div>
    <div class="container">
        <div class="header">
            <h1>GLOBAL OPERATION MANAGEMENT - WAREHOUSE MANAGEMENT</h1>
        </div>

        <div class="section-header">
            Warehouse Storage Location Calculator - Dedicated vs Random Policy
        </div>

        <div class="tutorial-section">
            <strong>Watch Tutorial</strong><br>
            This calculator determines the optimal number of storage locations required for your warehouse using both Dedicated Storage Policy and Random Storage Policy based on inventory levels and replenishment cycles.
        </div>

        <div class="problem-section">
            <strong>Solve Problem</strong><br><br>
            
            <div id="products-container">
                <div class="product-inputs" id="product-0">
                    <div class="input-row">
                        <span class="input-label">Product Name:</span>
                        <input type="text" id="name-0" placeholder="Product A" value="Product A">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Beginning Inventory:</span>
                        <input type="number" id="begin-0" placeholder="600" value="600">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Minimum Inventory:</span>
                        <input type="number" id="min-0" placeholder="100" value="100">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Maximum Inventory:</span>
                        <input type="number" id="max-0" placeholder="600" value="600">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Replenishment Cycle:</span>
                        <input type="number" id="cycle-0" placeholder="4" value="4">
                    </div>
                    <button class="btn btn-danger" onclick="removeProduct(0)" id="remove-0">Remove Product</button>
                </div>
            </div>

            <button class="btn btn-primary" id="add_product_btn" onclick="addProduct()">Add Product</button>
            <button class="btn btn-secondary" id="calculate_btn" onclick="calculateStorage()">Calculate Storage Locations</button>
        </div>

        <div class="section-header">OUTPUT</div>
        
        <div class="output-section">
            <div id="calculation_output">Click "Calculate Storage Locations" to see results.</div>
        </div>

        <div class="graph-container">
            <canvas id="inventoryChart" width="800" height="400" style="display: none; max-width: 100%;"></canvas>
        </div>

        <div class="footer">
            © Op-Mic GOM 2025
        </div>
    </div>

    <script>
        let productCount = 1;

        function addProduct() {
            const container = document.getElementById("products-container");
            const newProductHtml = `
                <div class="product-inputs" id="product-${productCount}">
                    <div class="input-row">
                        <span class="input-label">Product Name:</span>
                        <input type="text" id="name-${productCount}" placeholder="Product ${String.fromCharCode(65 + productCount)}" value="Product ${String.fromCharCode(65 + productCount)}">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Beginning Inventory:</span>
                        <input type="number" id="begin-${productCount}" placeholder="360" value="360">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Minimum Inventory:</span>
                        <input type="number" id="min-${productCount}" placeholder="60" value="60">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Maximum Inventory:</span>
                        <input type="number" id="max-${productCount}" placeholder="360" value="360">
                    </div>
                    <div class="input-row">
                        <span class="input-label">Replenishment Cycle:</span>
                        <input type="number" id="cycle-${productCount}" placeholder="3" value="3">
                    </div>
                    <button class="btn btn-danger" onclick="removeProduct(${productCount})" id="remove-${productCount}">Remove Product</button>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', newProductHtml);
            productCount++;
        }

        function removeProduct(productId) {
            const element = document.getElementById(`product-${productId}`);
            if (element) {
                element.remove();
            }
        }

        function collectProductData() {
            const products = [];
            const container = document.getElementById("products-container");
            const productDivs = container.getElementsByClassName("product-inputs");
            
            for (let div of productDivs) {
                const divId = div.id.split('-')[1];
                
                const nameElement = document.getElementById(`name-${divId}`);
                const beginElement = document.getElementById(`begin-${divId}`);
                const minElement = document.getElementById(`min-${divId}`);
                const maxElement = document.getElementById(`max-${divId}`);
                const cycleElement = document.getElementById(`cycle-${divId}`);
                
                if (nameElement && beginElement && minElement && maxElement && cycleElement) {
                    try {
                        const product = {
                            name: nameElement.value || `Product ${products.length + 1}`,
                            begin: parseFloat(beginElement.value),
                            min: parseFloat(minElement.value),
                            max: parseFloat(maxElement.value),
                            cycle: parseInt(cycleElement.value)
                        };
                        
                        if (!isNaN(product.begin) && !isNaN(product.min) && !isNaN(product.max) && !isNaN(product.cycle)) {
                            products.push(product);
                        }
                    } catch (error) {
                        continue;
                    }
                }
            }
            
            return products;
        }

        function calculateStoragePolicies(products) {
            if (!products || products.length === 0) {
                return [null, null];
            }
            
            // Dedicated Storage Policy: sum of maximum inventory levels
            const dedicated = products.reduce((sum, product) => sum + product.max, 0);
            
            // Random Storage Policy: simulate inventory levels over time
            const maxCycle = Math.max(...products.map(p => p.cycle));
            const timePeriods = maxCycle * 2;
            
            let maxSimultaneous = 0;
            for (let t = 0; t < timePeriods; t++) {
                let totalInventory = 0;
                for (let product of products) {
                    const cycle = product.cycle;
                    const cyclePosition = t % cycle;
                    let inventory;
                    
                    if (cyclePosition === 0) {
                        inventory = product.begin;
                    } else {
                        const decreaseRate = (product.begin - product.min) / cycle;
                        inventory = product.begin - (decreaseRate * cyclePosition);
                        inventory = Math.max(inventory, product.min);
                    }
                    totalInventory += inventory;
                }
                maxSimultaneous = Math.max(maxSimultaneous, totalInventory);
            }
            
            const randomPolicy = Math.ceil(maxSimultaneous);
            return [dedicated, randomPolicy];
        }

        function drawInventoryChart(products) {
            const canvas = document.getElementById('inventoryChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (!products || products.length === 0) {
                canvas.style.display = 'none';
                return;
            }
            
            canvas.style.display = 'block';
            
            const colors = ['#3498db', '#e74c3c', '#27ae60', '#f39c12', '#9b59b6'];
            const margin = 60;
            const chartWidth = canvas.width - 2 * margin;
            const chartHeight = canvas.height - 2 * margin;
            
            // Find max values for scaling
            const maxTime = Math.max(...products.map(p => p.cycle * 3));
            const maxInventory = Math.max(...products.map(p => p.max));
            
            // Draw axes
            ctx.beginPath();
            ctx.moveTo(margin, margin);
            ctx.lineTo(margin, margin + chartHeight);
            ctx.lineTo(margin + chartWidth, margin + chartHeight);
            ctx.strokeStyle = '#333';
            ctx.stroke();
            
            // Draw labels
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Time Period', margin + chartWidth / 2, canvas.height - 10);
            
            ctx.save();
            ctx.translate(15, margin + chartHeight / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Inventory Level', 0, 0);
            ctx.restore();
            
            // Draw products
            products.forEach((product, index) => {
                const color = colors[index % colors.length];
                ctx.strokeStyle = color;
                ctx.lineWidth = 2;
                
                ctx.beginPath();
                const timePeriods = product.cycle * 3;
                
                for (let t = 0; t <= timePeriods; t++) {
                    const cyclePosition = t % product.cycle;
                    let inventory;
                    
                    if (cyclePosition === 0) {
                        inventory = product.begin;
                    } else {
                        const decreaseRate = (product.begin - product.min) / product.cycle;
                        inventory = product.begin - (decreaseRate * cyclePosition);
                        inventory = Math.max(inventory, product.min);
                    }
                    
                    const x = margin + (t / maxTime) * chartWidth;
                    const y = margin + chartHeight - (inventory / maxInventory) * chartHeight;
                    
                    if (t === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                
                // Draw legend
                ctx.fillStyle = color;
                ctx.fillRect(margin + chartWidth + 10, margin + index * 20, 15, 15);
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(product.name, margin + chartWidth + 30, margin + index * 20 + 12);
            });
        }

        function calculateStorage() {
            const products = collectProductData();
            
            if (!products || products.length === 0) {
                document.getElementById("calculation_output").innerHTML = `
                    <div class="result-text" style="color: #e74c3c;">
                        Error: Please enter valid product information for at least one product.
                    </div>
                `;
                return;
            }
            
            const [dedicated, randomPolicy] = calculateStoragePolicies(products);
            
            if (dedicated === null) {
                document.getElementById("calculation_output").innerHTML = `
                    <div class="result-text" style="color: #e74c3c;">
                        Error: Could not calculate storage requirements. Please check your inputs.
                    </div>
                `;
                return;
            }
            
            // Calculate savings
            const savings = dedicated - randomPolicy;
            const savingsPercent = dedicated > 0 ? (savings / dedicated * 100) : 0;
            
            const outputHtml = `
                <div class="result-text">
                    <strong>Storage Location Requirements:</strong><br><br>
                    Dedicated Storage Policy = <span style="color: #e74c3c;">${dedicated}</span> locations<br>
                    Random Storage Policy = <span style="color: #27ae60;">${randomPolicy}</span> locations<br><br>
                    <span style="color: #3498db;">Space Savings: ${savings} locations (${savingsPercent.toFixed(1)}%)</span>
                </div>
            `;
            
            document.getElementById("calculation_output").innerHTML = outputHtml;
            
            // Draw chart
            drawInventoryChart(products);
        }
    </script>

 
  <!-- footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> Op-Mic GOM 2025
      </p>
    </div>
  </footer>
  <!-- footer section -->

  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>

</body>

<script>
  $(document).ready(function () {
    var steps = [
      {
        element: '#step1',
        intro: '<div class="tip-box"><img src="./images/intro/step31.jpg" style="width:100%;height:auto;"></div>',
        tooltipClass: 'step-tooltip',
        // position: 'bottom-right-aligned'
      },
    ]

    $(".course-btn").click(function () {
      var offset = $(this).offset();
      console.log("offset:", offset, $(this).index)

      var index = Number($(this).data("index"))

      $('body').find('.step-helperLayer').remove();

      // decoration
      var sw = $(window).width();
      var w = $(this).width();
      var h = $(this).height();
      $('body').append(`<div class="step-helperLayer" style="width:${w}px;height:${h}px;top:${offset.top}px;left:${offset.left}px;box-shadow:rgba(33, 33, 33, 0.8) 0px 0px 1px 2px, rgba(33, 33, 33, 0.5) 0px 0px 0px 5000px"></div>`);
      var stepfixedDom = $(`<div class='step-fixed-container' style="top:${offset.top + h}px;right:${sw - offset.left - w / 2}px"></div>`)

      var stepImg = $(`${steps[index - 1].intro}`);
      var sanjiaox = $(`<div class="triangle-up"></div>`)
      var closeDom = $(`<div class="close-btn"><img src="./images/close.png" /></div>`)

      // stepfixedDom
      stepfixedDom.append(stepImg);
      stepfixedDom.append(sanjiaox);
      stepfixedDom.append(closeDom);
      $('body').append(stepfixedDom)
    })

    $('body').on('click', '.step-fixed-container .close-btn', function () {
      $('body').find('.step-helperLayer').remove();
      $('body').find('.step-fixed-container').remove();
    });
    
  });
  
  
</script>

</html>